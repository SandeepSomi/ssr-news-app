{"version":3,"sources":["serviceWorker.js","utils.js","constants.js","containers/Main/apis.js","mydb.js","containers/Main/actions.js","containers/Main/reducer.js","redux/rootReducer.js","containers/Main/NewsTable.js","containers/Main/Chart.js","containers/Main/index.js","containers/AppContainer.js","routes.js","index.js","redux/configureStore.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","generateUrl","path","process","apiReq","endPoint","data","method","headers","Promise","res","rej","params","axios","result","status","err","searchAPI","apiGet","db","Dexie","version","stores","hits","setData","page","a","forEach","hit","put","hitsPerPage","from","offset","limit","toArray","objectID","get","update","id","isHidden","votes","search","dispatch","type","resolve","reject","getData","length","addVotesToHits","hideNews","hideItemInDB","map","parseInt","Math","random","upvote","upvoteInDB","initialState","isLoading","nbPages","bookmarks","hidden","combineReducers","main","action","index","findIndex","i","updatedHits","useDispatch","useSelector","handlePageChange","nextPage","actions","className","title","num_comments","author","created_at","url","origin","split","key","onClick","href","target","moment","fromNow","onHide","colSpan","cn","filter","ids","upvotes","labels","datasets","borderWidth","borderColor","pointBackgroundColor","fill","height","options","maintainAspectRatio","legend","display","scales","yAxes","ticks","beginAtZero","autoSkip","stepSize","scaleLabel","labelString","fontStyle","fontColor","fontSize","xAxes","gridLines","maxRotation","minRotation","elements","line","tension","useEffect","NewsTable","Chart","children","AppContainer","exact","component","Main","NotFound","to","preloadedState","__PRELOADED_STATE__","store","configureStore","reducer","rootReducer","middleware","thunk","ReactDOM","hydrate","StrictMode","document","getElementById","URL","addEventListener","fetch","response","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.5a6497cc.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { API_URL } from './constants';\nimport axios from 'axios';\n\nexport function generateUrl(path) {\n\n  return API_URL + path;\n}\n\nexport function apiReq(endPoint, data, method, headers) {\n  return new Promise((res, rej) => {\n\n      headers = {\n          ...headers\n      }\n\n      if (method === 'get' || method === 'delete') {\n          data = {\n              params: data,\n              headers\n          }\n      }\n      axios[method](endPoint, data, { headers }).then((result) => {\n          let { data } = result;\n\n          if (data.status === false) {\n\n              return rej(data);\n          }\n\n          return res(data);\n      }).catch((err) => {\n          return rej(err);\n      });\n  })\n}\n\nexport function apiGet(endPoint, data, headers = {}) {\n  return apiReq(generateUrl(endPoint), data, 'get', headers);\n}","export const API_URL = process.env.REACT_APP_API_BASE_URL || 'http://hn.algolia.com/api/v1';","import { apiGet } from '../../utils';\n\nexport function searchAPI(data) {\n  return apiGet('/search', data);\n}","import Dexie from 'dexie';\n\nvar db = new Dexie('news-app');\n\ndb.version(1).stores({\n    hits: '++id, objectID'\n});\n\nexport default db;\n","import {\n  searchAPI\n} from './apis';\n\nimport db from '../../mydb';\n\nexport async function setData(hits, page) {\n  hits.forEach(hit => {\n    db.hits.put(hit);\n  });\n}\n\nexport async function getData({ page, hitsPerPage }) {\n  let from = page ? page * hitsPerPage : page;\n  let hits = await db.hits.offset(from).limit(hitsPerPage).toArray();\n  return hits\n}\n\nexport async function hideItemInDB(objectID) {\n  let hit = await db.hits.get({ objectID });\n  let updated = await db.hits.update(hit.id, { isHidden: true });\n  if(updated) {\n    console.log('db has been updated')\n  } else {\n    console.error('something went wrong!')\n  }\n}\n\nexport async function upvoteInDB(objectID) {\n  let hit = await db.hits.get({ objectID });\n  let updated = await db.hits.update(hit.id, { votes: hit.votes + 1 });\n  if(updated) {\n    console.log('db has been updated')\n  } else {\n    console.error('something went wrong!')\n  }\n}\n\nexport const SEARCH_INITIATED = 'SEARCH_INITIATED';\nexport const SEARCH_WAS_SUCCESSFUL = 'SEARCH_WAS_SUCCESSFUL';\nexport const SEARCH_WAS_UNSUCCESSFUL = 'SEARCH_WAS_UNSUCCESSFUL';\nexport const HIDE_NEWS_ITEM = 'HIDE_NEWS_ITEM';\nexport const UPVOTE = 'UPVOTE';\n\nexport function search(data) {\n  return dispatch => {\n    dispatch({\n      type: SEARCH_INITIATED\n    })\n    return new Promise((resolve, reject) => {\n      getData(data).then(res => {\n        if (res && res.length) {\n          dispatch({\n            type: SEARCH_WAS_SUCCESSFUL,\n            data: {\n              page: data.page,\n              hitsPerPage: data.hitsPerPage,\n              hits: res\n            }\n          })\n          return resolve({\n            hits: res\n          })\n        } else {\n          searchAPI(data).then(res => {\n            dispatch({\n              type: SEARCH_WAS_SUCCESSFUL,\n              data: {\n                ...res,\n                hits: addVotesToHits(res.hits)\n              }\n            })\n            return resolve(res)\n          }).then(err => {\n            dispatch({\n              type: SEARCH_WAS_UNSUCCESSFUL\n            })\n            return reject(err)\n          })\n        }\n      })\n    })\n  }\n}\n\nexport function hideNews(objectID) {\n  hideItemInDB(objectID)\n  return dispatch => {\n    dispatch({\n      type: HIDE_NEWS_ITEM,\n      objectID\n    })\n  }\n}\n\nfunction addVotesToHits(hits = []) {\n  return hits && hits.length && hits.map(hit => {\n    return {\n      ...hit,\n      votes: parseInt(Math.random() * (1000 - 1) + 1),\n      isHidden: false\n    }\n  })\n}\n\nexport function upvote(objectID) {\n  upvoteInDB(objectID)\n  return dispatch => {\n    dispatch({\n      type: UPVOTE,\n      objectID\n    })\n  }\n}","import {\n  SEARCH_INITIATED,\n  SEARCH_WAS_SUCCESSFUL,\n  SEARCH_WAS_UNSUCCESSFUL,\n  HIDE_NEWS_ITEM,\n  UPVOTE,\n  setData\n} from './actions';\n\nconst initialState = {\n  isLoading: false,\n  hits: [],\n  hitsPerPage: 30,\n  page: 0,\n  nbPages: null,\n  bookmarks: [],\n  hidden: []\n}\n\nexport default function (state = { ...initialState }, action) {\n  switch (action.type) {\n    case SEARCH_INITIATED:\n      return { ...state, isLoading: true }\n    case SEARCH_WAS_SUCCESSFUL:\n      const { hits, hitsPerPage, page, nbPages } = action.data;\n      setData(hits);\n      return { ...state, isLoading: false, hits, hitsPerPage, page, nbPages }\n    case SEARCH_WAS_UNSUCCESSFUL:\n      return { ...state, isLoading: false }\n\n    case HIDE_NEWS_ITEM:\n      const { objectID } = action;\n      const index = state.hits.findIndex(i => i.objectID === objectID);\n      let updatedHits = [...state.hits];\n      updatedHits[index] = {\n        ...updatedHits[index],\n        isHidden: true\n      }\n      return { ...state, hits: updatedHits }\n\n    case UPVOTE: {\n      const hits = [...state.hits];\n      const index = state.hits.findIndex(i => i.objectID === action.objectID);\n      hits[index] = {\n        ...hits[index],\n        votes: hits[index].votes && hits[index].votes + 1 || 1\n      }\n      return { ...state, hits }\n    }\n\n    default:\n      return state\n  }\n}","import main from '../containers/Main/reducer';\nimport { combineReducers } from 'redux';\n\nexport default combineReducers({\n  main\n})","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport moment from 'moment';\nimport * as actions from './actions';\nimport cn from 'classnames';\n\nexport default function () {\n  const dispatch = useDispatch();\n  const page = useSelector(state => state.main.page);\n  const nbPages = useSelector(state => state.main.nbPages);\n  const hitsPerPage = useSelector(state => state.main.hitsPerPage);\n  const hits = useSelector(state => state.main.hits);\n\n  function onHide(objectID) {\n    dispatch(actions.hideNews(objectID));\n  }\n\n  function handlePageChange(nextPage) {\n    if (nextPage < 0 || nextPage > nbPages) return null;\n    dispatch(actions.search({ page: nextPage, hitsPerPage }))\n  }\n\n  function upvote(objectID) {\n    dispatch(actions.upvote(objectID));\n  }\n\n  function rowRenderer(hit, index) {\n    const { title, num_comments, author, created_at, objectID, url, votes = 0, isHidden = false } = hit\n    if (isHidden) {\n      return null\n    }\n    const origin = url && url.split('/')[2] || '';\n\n    return (\n      <tr key={objectID || index}>\n        <td>{num_comments}</td>\n        <td>{votes}</td>\n        <td>\n          <span onClick={() => upvote(objectID)}>\n            <i className=\"fas fa-arrow-alt-circle-up\"></i>\n          </span>\n        </td>\n        <td>\n          {title}\n          {origin ? <span>\n            <a href={url} target=\"_blank\">({origin})</a>\n          </span> : null}\n          <span className=\"news-by\">by</span>\n          <span>{author}</span>\n          <span className=\"posted\">{moment(created_at).fromNow(true)}</span>\n          <span className=\"hide-action\" onClick={() => onHide(objectID)}>[ hide ]</span>\n        </td>\n      </tr>\n    )\n  }\n\n  // if (isLoading) {\n  //   return (\n  //     <div className=\"vh-100 d-flex justify-content-center align-items-center\">\n  //       <div>\n  //         <h6 className=\"text-secondary\">Loading...</h6>\n  //       </div>\n  //     </div>\n  //   )\n  // }\n\n  return (\n    <div className=\"news-table-wrapper\">\n      <table id=\"news-table\">\n        <thead>\n          <tr>\n            <th>Comments</th>\n            <th>Vote Count</th>\n            <th>UpVote</th>\n            <th>NewsDetail</th>\n          </tr>\n        </thead>\n        <tbody>\n          {hits.map(rowRenderer)}\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colSpan=\"4\">\n              <span className=\"float-left\">{page + 1}</span>\n              <span className={cn({ 'disabled': page <= 0 })} onClick={() => handlePageChange(page - 1)}>Previous</span>\n              {' | '}\n              <span className={cn({ 'disabled': page >= nbPages })} onClick={() => handlePageChange(page + 1)}>Next</span>\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n  )\n}","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { useSelector } from 'react-redux'\n\nexport default function () {\n  const hits = useSelector(state => state.main.hits.filter(i => !i.isHidden ));\n  const ids = hits && hits.length && hits.map(i => i.objectID)\n  const upvotes = hits && hits.length && hits.map(i => i.votes)\n\n  return <div className=\"chart-container\">\n    <Line\n      data={{\n        labels: ids,\n        datasets: [\n          {\n            borderWidth: 2,\n            borderColor: \"#007BFF\",\n            pointBackgroundColor: '#007BFF',\n            data: upvotes,\n            fill: false,\n          }\n        ]\n      }}\n      height={300}\n      options={{\n        maintainAspectRatio: false,\n        legend: {\n          display: false,\n        },\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              autoSkip: false,\n              stepSize: 250\n            },\n            scaleLabel: {\n              display: true,\n              labelString: 'Votes',\n              fontStyle: 'bold',\n              fontColor: '#000',\n              fontSize: 14\n            }\n          }],\n          xAxes: [{\n            gridLines: {\n              display: false\n            },\n            ticks: {\n              autoSkip: false,\n              maxRotation: 90,\n              minRotation: 90\n            },\n            scaleLabel: {\n              display: true,\n              labelString: 'ID',\n              fontStyle: 'bold',\n              fontColor: '#000',\n              fontSize: 14\n            }\n          }]\n        },\n        elements: {\n          line: {\n            tension: 0\n          }\n        }\n      }}\n    />\n  </div>\n}","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport * as actions from './actions';\nimport NewsTable from './NewsTable';\nimport Chart from './Chart';\n\nexport default function () {\n  const page = useSelector(state => state.main.page);\n  const hitsPerPage = useSelector(state => state.main.hitsPerPage);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(actions.search({ hitsPerPage, page }));\n  }, [])\n\n  return <div className=\"container p-0\">\n    <NewsTable />\n    <Chart />\n  </div>\n}\n","import React, { useEffect } from 'react';\n\nconst customerData = [\n  { ssn: \"444-44-4444\", name: \"Bill\", age: 35, email: \"bill@company.com\" },\n  { ssn: \"555-55-5555\", name: \"Donna\", age: 32, email: \"donna@home.org\" }\n];\n\nexport default function({ children }) {\n  return children\n}","import React from 'react';\nimport { StaticRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport Main from './containers/Main/index';\nimport AppContainer from './containers/AppContainer';\n\nexport default function () {\n\n  return (\n    <AppContainer>\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={Main} />\n          <Route component={NotFound} />\n        </Switch>\n      </Router>\n    </AppContainer>\n  )\n}\n\nfunction NotFound() {\n  return (\n    <div className=\"vh-100 d-flex justify-content-center align-items-center\">\n      <div className=\"text-center\">\n        <h4 className=\"text-secondary\">Page Not Found!</h4>\n        <Link to=\"/\">Home</Link>\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport configureStore from './redux/configureStore';\nimport Routes from './routes';\nimport './assets/styles/index.scss';\nimport './mydb';\n\nconst preloadedState = window.__PRELOADED_STATE__;\ndelete window.__PRELOADED_STATE__;\n\nconst store = configureStore(preloadedState);\n\nif(module.hot) {\n  module.hot.accept();\n}\n\nReactDOM.hydrate(\n  <Provider store={store}>\n    <React.StrictMode>\n      <Routes />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","import thunk from 'redux-thunk';\nimport rootReducer from './rootReducer';\nimport { configureStore } from '@reduxjs/toolkit'\n\nexport default function(preloadedState) {\n  const store = configureStore({\n    reducer: rootReducer,\n    middleware: [thunk],\n    preloadedState\n  })\n  \n  if(process.env.NODE_ENV !== 'production' && module.hot) {\n    module.hot.accept('./rootReducer', () => store.replaceReducer(rootReducer));\n  }\n  return store\n}"],"sourceRoot":""}